<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Push Notification Test</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="manifest" href="manifest.json">
    <script src='main.js'></script>
    <!--  <script src="webpush.js"></script> -->

</head>
<body onload="checkEnv()">
    <p>Supports Fx42+, Chrome 44, Android Chrome 44 - <a href='https://github.com/edmoz/push-notification-test'>github src</a></p>
    <hr />
    Notification properties:<br />
    Title: <input id='msg_txt' value='Hi There'></input><br />
    Body Text:
    <input id='body_txt' value='body text here'></input><br />
    Icon:
    <input id='icon_txt' value='icon.png'></input><br />
    TTL: <input id='ttl_txt' value='60'></input> seconds to send message for offline service workers:<br />
    <hr />
    <p>Notifications API</p>
<!--     requireInteraction: 
     <select id='ri_cb'>
      <option value="default" selected>default</option>
      <option value="true">true</option>
      <option value="false">false</option>
    </select> <br /> -->

    <!-- <button onclick='checkNotifyProperites()'>Check Notification</button> -->
    
    <button onclick='notifyMe()'>pop Notification</button> window.open:<input id='url_txt' value='http://www.mozilla.org'></input><input id='target_txt' value='_blank'></input> <br />
    <button onclick='closeNotification()'>closeNotification</button>
    <p></p>
    <hr />
    <p>Push API</p>
<!-- <select  id='sw_txt'>
  <option value="service-worker.js" selected>service-worker.js</option>
  <option value="swc.js">collapse 2 events</option>
</select> -->
    <input id='sw_txt' value='service-worker.js'></input>
    <button onclick='regSW()'>register Service Worker</button><button onclick='checkSW(registration)'>Check Service Worker</button><button onclick='unregSW()' id='unreg_btn' style="visibility:hidden">Unregister Service Worker</button>
    <p></p>
    <button onclick='subscribe()' id="subscribe_btn" style="visibility:hidden">subscribe to push</button>
    <div id='xhr_msg' style="visibility:hidden">
        Repeat: <input id='repeat_txt' value='3'></input><br />
        Delay (seconds): <input id='delay_txt' value='5'></input><br />
        <button id='doXhr_btn' onclick='doXhr()'>XHR to webpush app-server</button> 
    </div>
    <button id='mailto_btn' onclick='sendMail()' style="visibility:hidden">mailto:CURL string</button>
    <hr />
    Service Worker
    <p></p>
    Send a string from page to service worker: <input id='echo_txt' value='HelloWorld' style="visibility:hidden"></input><button onclick='sendMsgToSW()' id="sendMsgToSW_btn" style="visibility:hidden">Send postMessage</button>
    <hr />

    <div id='demo'></div>
</body>
</html>


